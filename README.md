# 点餐系统实现

## 实现方式

* 后端：使用nodejs + express + sqlite3 + socket.io
* 前端：使用React + ant design

### 主要功能

* 分为用户侧点餐界面，和商户侧餐厅管理页面
* 用户侧：
    1. 可根据桌面二维码进入人数选择页面快速选择用餐人数进入菜品页面。
    2. 点餐页面中菜品做了分类处理，点击左侧对应分类，页面跳到对应位置
    3. 点餐页面支持同一桌面多人进行同步点餐，当其中一人增加或删除某个菜品时，其他人的页面订单也会随着改变，当其中一人点击下单后所有用户统一跳转至下单成功页面，下单成功后商户侧后台能够同步更新订单
* 商户侧：
    1. 可进行登录注册，对不同餐厅进行管理，商户登录后进入餐厅管理后台，商户后台分为订单管理、菜品管理、桌面管理
    2. 订单管理：当用户下单后实时接收到pending状态的订单，商户可进行接单将状态转换为confirmed确认订单，客户用餐完毕后切换为completed完成此订单，每个订单可点击查看具体的用户下单详情，对每个订单的菜品数量和单价等进行核实。
    3. 菜品管理：商户可在后台进行添加、删除和修改菜品，可上传菜品图片及更改菜品上下架状态。
    4. 桌面管理：桌面管理同上，实现增删改功能，额外可生成对应点餐桌面链接的二维码。

### 实现方法

* 服务器使用express中间件处理各种相关的数据
    1. 配置cors支持跨域访问数据
    2. 使用session存储用户登录的缓存信息，实现持久化操作
    3. 使用multer处理菜品图片
    4. 中间件太多就不细说了

* 数据库使用sqlite3进行存储
    1. 数据库表分为：users(商户个人信息)，orders(客户订单)，foods(餐厅菜品),desks(餐厅桌面)
    2. 可对每个表进行增删改查操作，返回接口都已完善。

* 前端页面使用React，ant design实现
    1. 组件之间传递参数较为简单，故未使用redux，直接采用props传递简单的参数
    2. 页面跳转使用前端路由切换。